
<% if current_user && current_user.admin == true %>
<%= form_for(@book) do |f| %>
  <% render 'shared/validation_errors', object: @book %>
  <%= f.label :title %> <%= f.text_field :title, autofocus: true , :size=> "50" %><br />
  <%= f.label :author %> <%= collection_select(:book, :author_id, Author.all, :id, :name, {}, { :multiple => false}) %><br />


  <%= f.label :isbn %> <%= f.text_field :isbn %><br />

<%= f.label :abstract %> <%= f.text_area :abstract, size: "50x5" %><br />


   <%= f.label :genre %> <%= f.select :genre, Book::GENRES, {prompt: "Pick One"} %><br />

  <%= f.label :pages %> <%= f.text_field :pages %><br />

   <%= f.label :total_in_library %> <%= f.text_field :total_in_library %><br />

   <%= f.label :published_on %> <%= f.date_select :published_on %><br />

   <%= f.label :image_cover_url %> <%= f.text_field :image_cover_url, :size=> "70" %><br />
  <p>
    <%= f.submit %>
    <%= link_to 'Cancel', books_path %>
  </p>
<% end %>
<% else %>
<h3> Unauthorized </h3>
<p>You are not allowed to create/edit new authors.</p>
<% end %>